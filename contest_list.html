<div class="row" style="display:flex;">
        <div class="col" style="width:60%;">
            <h2 class="text-center"> Codeforces contest list </h2>
            <br>
            <ol>
                <div style="text-align: center">
                    <br>
                    <i class="fa fa-circle-o-notch fa-spin" style="font-size:36px;"></i>
                </div>
            </ol>
        </div>
        <div class="col" style="width:40%;">
            <h2 class="text-center"> Current Contests </h2>
        </div>
</div>



<script>
    let ol = document.querySelector('ol');
        let content_list = "";
        let contest_id = [];
        async function getdata() {
            let response = await fetch('https://codeforces.com/api/contest.list?gym=false')
            let data = await response.json();
            console.log(data);
            console.log("subhahu");
            return data;
        }

         getlabel= function(phase)  {
            if(phase == "FINISHED")
                return "label-success" ;
            else
                return "label-primary" ;
        }

        getdata().then(data => data.result)
            .then(lists => {
                lists.sort(function (a, b) { return b.id - a.id });
                return lists;
            })
            .then(lists => {
                lists.map((list, i) => {
                    if (i == 3)
                        console.log(list);
                    contest_id[i] = list.id;
                    content_list += `<div class="panel panel-default">
                                        <div class="panel-heading">
                                            <h3 class="panel-title" style="float:right">
                                                <b>
                                                    <a> ${list.id} </a>
                                                </b>
                                            </h3>                                          
                                            <h3 class="panel-title">
                                                <b>
                                                    <a> ${list.name} </a>
                                                </b>
                                            </h3>
                                        </div>
                                        <div class="panel-body">                                   
                                            <div style="float:right" >
                                                <span class="label ${getlabel(list.phase)}" style="float:right;margin-left:10px"> ${list.phase.toLowerCase()} </span>
                                                <span class="label label-info" style="float:right;"> ${list.type} </span>
                                            </div>
                                            <h4> 
                                                <b> <button onclick="getproblems(${list.id})"> Problems </button> </b>
                                            </h4>
                                            <div>
                                                
                                            </div>
                                        </div>
                                    </div>` ;
                                      
                                    
                })
            })
            .then(() => {     
                ol.innerHTML = content_list ;
                console.log(contest_id.join(','))
            })
</script>